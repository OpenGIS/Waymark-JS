# Configuration

Maps are configured using a JavaScript object. The configuration object is passed to the `init` method of the Map Instance.

For example here is a basic configuration, which sets the height of the map, enables the Elevation profile (for Lines that have elevation data) and defines how Markers and Lines should be displayed.

```javascript
const waymark_config = {
  // Map Options
  map_options: {
    map_height: 800,

    // Define Marker Types
    marker_types: [
      {
        marker_title: "Photo",
        icon_type: "icon",
        marker_icon: "ion-camera",
        marker_colour: "#70af00",
        icon_colour: "#ffffff",
      },
    ],

    // Define Line Types
    line_types: [
      {
        line_title: "Route",
        line_colour: "green",
      },
    ],
  },

  // Viewer Options
  viewer_options: {
    show_elevation: "1",
  },
};
```

## Map Options

These options, provided in the `map_options` object, are used to customise both Viewer and Editor Modes.

| Option             | Values  | Description                                                                      | Example           |
| ------------------ | ------- | -------------------------------------------------------------------------------- | ----------------- |
| `map_div_id`       | string  | The ID of the HTML element to contain the Map.                                   | map               |
| `map_height`       | number  | Specify the desired height of the Map (in pixels).                               | 420               |
| `map_width`        | number  | Specify the desired width of the Map (in pixels).                                | 800               |
| `map_init_zoom`    | number  | The initial zoom level of the Map.                                               | 10                |
| `map_init_latlng`  | array   | The initial centre coordinates of the Map (Latitude,Longitude).                  | [51.5074, 0.1278] |
| `map_init_basemap` | string  | The initial basemap of the Map. Use the exact title, including spaces.           | Satellite Imagery |
| `map_max_zoom`     | number  | The maximum zoom level of the Map.                                               | 12                |
| `show_scale`       | boolean | Whether to show the scale on the Map.                                            | 1                 |
| `debug_mode`       | boolean | Whether to enable debug mode. This will output debug information to the console. | 1                 |

### Basemaps

Basemaps are added to the Map using the `map_options.tile_layers` array, each Basemap is an object with the following options:

| Option              | Values | Description                                                                                               | Example                                                                                   |
| ------------------- | ------ | --------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| `layer_name`        | string | The Name will appear in a dropdown list shown by the Map when multiple Basemaps have been entered.        | "OpenStreetMap"                                                                           |
| `layer_url`         | string | Many mapping services support the Slippy Map format. Waymark requires URLs that contain {z}, {x} and {y}. | `https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?r=1`                                  |
| `layer_attribution` | string | The attribution to be displayed on the Map.                                                               | `&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors` |
| `layer_max_zoom`    | 1-18   | The maximum zoom level of the Basemap.                                                                    | 10                                                                                        |

Example:

```javascript
const user_config = {
  map_options: {
    tile_layers: [
      {
        layer_name: "OpenStreetMap",
        layer_url: "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?r=1",
        layer_attribution:
          '@copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        layer_max_zoom: "18",
      },
      {
        layer_name: "OpenTopoMap",
        layer_url: "https://{a|b|c}.tile.opentopomap.org/{z}/{x}/{y}.png",
        layer_attribution:
          '¬© <a href="https://openstreetmap.org/copyright">OSM</a>-Mitwirkende, SRTM | ¬© <a href="http://opentopomap.org" data-moz-translations-id="285">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>',
        layer_max_zoom: "17",
      },
    ],
  },
};
```

### Types

Customise how Overlays are displayed on the Map. When you add an Overlay (a Marker, Line or Shape) to the Map you may want to style it in a certain way. In the case of Markers, you may want to use certain icons.

Types allow you set these styles once, using the `
map_options.marker_types`, `map_options.line_types` and `map_options.shape_types` arrays. Once a type has been provided, an Overlay can be assigned to it using the `type` feature property.

We can create a new Marker Type called `pub` by adding it to the `marker_types` array like this:

```javascript
const config = {
  map_options: {
    marker_types: [
      {
        marker_title: "Pub",
        marker_shape: "marker",
        marker_size: "large",
        icon_type: "icon",
        marker_icon: "ion-beer",
        marker_colour: "#fbfbfb",
        icon_colour: "#754423",
      },
    ],
  },
};
```

When a Marker is added to the Map, it can be assigned the `pub` Type by adding the `type` property to the GeoJSON Feature.

```geojson
{
  "type": "Feature",
  "geometry": {
    "type": "Point",
    "coordinates": [
      -2.548828125,
      51.46769693762546
    ]
  },
  "properties": {
    "type": "pub",
    "title": "Great place for a pint!"
  }
}
```

#### Marker Types

Marker Types are added to the Map using the `marker_types` array, each Marker Type is an object with the following options:

| Option          | Values                          | Description                                                                                                                                                       | Example |
| --------------- | ------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- |
| `marker_title`  | string                          | What kind of Marker is this? E.g. "Photo", "Grocery Store", "Warning!".                                                                                           | Pub     |
| `marker_shape`  | `marker`, `circle`, `rectangle` | Which shape of Marker to use. Circles and Squares are centered at the specified location, Markers point down to that location.                                    | marker  |
| `marker_size`   | `small`, `medium`, `large`      | Which size of Marker to use.                                                                                                                                      | large   |
| `marker_colour` | CSS Color                       | The Marker background colour, provided as a CSS colour (e.g. "white", "#ffba00", rgb(255, 186, 0)).                                                               | #da3d20 |
| `marker_icon`   | string                          | Either the **Text** (including [Emojis](https://emojifinder.com/)!), **HTML**, or **Icon Name** from Ionicons or Font Awesome, e.g. "ion-camera", or "fa-camera". | üç∫      |
| `icon_type`     | `icon`, `text`, `html`          | Font Icons are available from Font Awesome and Ionic Icons. Simple Text or Emojis are supported, as well as custom HTML.                                          | icon    |
| `icon_colour`   | string                          | The colour of the icon.                                                                                                                                           | #ffba00 |

Example:

```javascript
const user_config = {
  map_options: {
    marker_types: [
      {
        marker_title: "Pub",
        marker_shape: "marker",
        marker_size: "large",
        icon_type: "icon",
        marker_icon: "ion-beer",
        marker_colour: "#fbfbfb",
        icon_colour: "#754423",
      },
    ],
  },
};
```

#### Line Types

Line Types are added to the Map using the `line_types` array, each Line Type is an object with the following options:

| Option         | Values     | Description                                                              | Example   |
| -------------- | ---------- | ------------------------------------------------------------------------ | --------- |
| `line_title`   | string     | What kind of Line is this? E.g. "Bike Path", "Walking Only", "Dark Red". | Bike Path |
| `line_colour`  | CSS Colour | The colour of the Line.                                                  | #3cbc47   |
| `line_weight`  | number     | The width of the Line, in pixels.                                        | 2         |
| `line_opacity` | number     | The opacity of the Line, between 0.0 and 1.0.                            | 0.85      |

Example:

```javascript
const user_config = {
  map_options: {
    line_types: [
      {
        line_title: "Bike Path",
        line_colour: "#3cbc47",
        line_weight: "2",
        line_opacity: "0.5",
      },
    ],
  },
};
```

#### Shape Types

Shape Types are added to the Map using the `shape_types` array, each Shape Type is an object with the following options:

| Option         | Values     | Description                                                       | Example |
| -------------- | ---------- | ----------------------------------------------------------------- | ------- |
| `shape_title`  | string     | What kind of Shape is this? E.g. "Park", "Danger!", "Light Blue". | Park    |
| `shape_colour` | CSS Colour | The colour of the Shape.                                          | #81d742 |
| `fill_opacity` | number     | The opacity of the inside of the Shape, between 0.0 and 1.0.      | 0.5     |

Example:

```javascript
const user_config = {
  map_options: {
    shape_types: [
      {
        shape_title: "Park",
        shape_colour: "#81d742",
        fill_opacity: "0.5",
      },
    ],
  },
};
```
