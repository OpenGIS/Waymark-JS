---
title: Instances
description: The Instance is the central component of Waymark JS. It is used to display Basemaps, Overlays and an interface for interacting with the Map.
---

# Instances

The Instance is the central component of Waymark JS. It is used to display Basemaps, Overlays and an interface for interacting with the Map.

Instances are loaded inside a `<div>` element and multiple Instances can be created on a single page. Each Instance can be configured independently, with its own Basemaps, Marker Types and Data.

### Creating an Instance

To create an instance, first add a `<div>` element to your HTML, with an ID to target it:

```html
<div id="my-map" style="height: 480px"></div>
```

To create an Instance, use the `Instance` class and pass the configuration object to the constructor. This includes a `map_options` object, with the ID of the `<div>` element to contain the Map.

```javascript
// Create a Waymark Instance with this configuration
const instance = new Instance({
  map_options: {
    div_id: "my-map", // The ID of the div to contain the Map
  },
});
```

### Configuring the Instance

Each Instance is provided its own configuration, as a JavaScript object, which is passed to the `Instance` constructor.

This contains options for how the Map should behave, such as the initial zoom level, centre coordinates and available Basemaps.

It also contains options for the types of Overlays that can be added to the Map, such as Marker Types, Line Types and Shape Types.

```javascript
const config = {
  map_options: {
    div_id: "my-map", // The ID of the div to contain the Map
    maplibre_options: {
      zoom: 12, // Initial zoom level
      center: [-2.548828125, 51.46769693762546], // Initial centre coordinates [lng, lat]
    },
    marker_types: [
      {
        marker_title: "Pub",
        marker_icon: "ion-beer",
        marker_colour: "brown",
      },
    ],
  },
};
```

See [Configuration](3.config.md) for full details on the available options.

### Displaying Geographical Data

Geographical data is represented in [GeoJSON](https://geojson.org/) format. Data can be [loaded](5.viewer.md#loading-data) into the Instance using the `loadGeoJSON` method, which accepts a GeoJSON object as an argument.

Waymark JS uses

```javascript
// Load GeoJSON data
instance.loadGeoJSON({
  type: "FeatureCollection",
  features: [
    {
      type: "Feature",
      geometry: { type: "Point", coordinates: [-85.038, 49.4595] },
      properties: { type: "food" },
    },
  ],
});
```

The current state of the Map is accessible through the `toGeoJSON` method, which returns a GeoJSON object representing all the Overlays currently on the Map.

```javascript
// Get GeoJSON data
const mapData = instance.toGeoJSON();
```
