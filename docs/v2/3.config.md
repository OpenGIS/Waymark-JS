---
title: Configuring the Instance
description: Configure the Map with Basemaps, Types and MapLibre Options.
---

# Map Options

These options, provided in the `map_options` object, are used to customise both Viewer and Editor Modes.

| Option             | Values  | Description                                                                                                                               | Example                        |
| ------------------ | ------- | ----------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------ |
| `div_id`           | string  | The ID of the HTML element to contain the Map. Defaults to `waymark-instance`.                                                            | `my-map`                       |
| `tile_layers`      | array   | An array of Basemaps to be used on the Map.                                                                                               | [See Below](#basemaps)         |
| `marker_types`     | array   | An array of Marker Types to be used on the Map.                                                                                           | [See Below](#marker-types)     |
| `line_types`       | array   | An array of Line Types to be used on the Map.                                                                                             | [See Below](#line-types)       |
| `shape_types`      | array   | An array of Shape Types to be used on the Map.                                                                                            | [See Below](#shape-types)      |
| `maplibre_options` | object  | Options passed directly to [MapLibre GL JS](https://maplibre.org/maplibre-gl-js/docs/API/type-aliases/MapOptions/) when creating the Map. | [See Below](#maplibre-options) |
| `debug_mode`       | `1`/`0` | Whether to enable debug mode. This will output debug information to the console.                                                          | `1`                            |

### To-do:

> [!IMPORTANT]
> The following options are planned for a future release.

| Option             | Values  | Description                                                            | Example             |
| ------------------ | ------- | ---------------------------------------------------------------------- | ------------------- |
| `map_init_basemap` | string  | The initial basemap of the Map. Use the exact title, including spaces. | `Satellite Imagery` |
| `show_scale`       | `1`/`0` | Whether to show the scale on the Map.                                  | `1`                 |

### Basemaps

Waymark uses [OpenFreeMap](https://openfreemap.org/) (Vector) as its default Basemap and supports [many other providers](https://leaflet-extras.github.io/leaflet-providers/preview/) (Raster).

Basemaps are added to the Map using the `map_options.tile_layers` array, each Basemap is an object with the following options:

| Option              | Values   | Description                                                                                                     | Example                                                                                   |
| ------------------- | -------- | --------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| `layer_name`        | string   | The Name will appear in a dropdown list shown by the Map when multiple Basemaps have been entered.              | `OpenStreetMap`                                                                           |
| `layer_url`         | string   | Many mapping services support the Slippy Map format. Waymark requires URLs that contain `{z}`, `{x}` and `{y}`. | `https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?r=1`                                  |
| `layer_attribution` | string   | The attribution to be displayed on the Map.                                                                     | `&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors` |
| `layer_max_zoom`    | `0`-`18` | The maximum zoom level of the Basemap.                                                                          | `14`                                                                                      |

This is an example of a Basemap configuration:

```javascript
const config = {
  map_options: {
    tile_layers: [
      {
        layer_name: "OpenStreetMap",
        layer_url: "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?r=1",
        layer_attribution:
          '@copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        layer_max_zoom: "18",
      },
      {
        layer_name: "OpenTopoMap",
        layer_url: "https://{a|b|c}.tile.opentopomap.org/{z}/{x}/{y}.png",
        layer_attribution:
          'Â© <a href="https://openstreetmap.org/copyright">OSM</a>-Mitwirkende, SRTM | Â© <a href="http://opentopomap.org" data-moz-translations-id="285">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>',
        layer_max_zoom: "17",
      },
    ],
  },
};
```

> [!TIP]
> OpenFreeMap (Vector) is the default Basemap. If you do not provide any Basemaps, OpenFreeMap will be used.

### Types

Customise how Overlays are displayed on the Map. When you add an Overlay (Marker, Line or Shape) to the Map you may want to style it in a certain way. In the case of Markers, you may want to use certain icons and colours.

Types allow you set these styles once, using the `map_options.marker_types`, `map_options.line_types` and `map_options.shape_types` arrays. Once a type has been provided, an Overlay can be assigned to it using the `type` feature property.

We can create a new Marker Type `pub` by adding it to the `marker_types` array like this:

```javascript
const config = {
  map_options: {
    marker_types: [
      {
        marker_title: "Pub",
        marker_shape: "marker",
        marker_size: "large",
        icon_type: "icon",
        marker_icon: "ion-beer",
        marker_colour: "#fbfbfb",
        icon_colour: "#754423",
      },
    ],
  },
};
```

When a Marker is added to the Map, it can be associated with the "Pub" Type by setting the `type` feature property to `pub`:

```json
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [-2.548828125, 51.46769693762546]
      },
      "properties": {
        "type": "pub",
        "title": "Great place for a pint!"
      }
    }
  ]
}
```

#### Marker Types

Marker Types are added to the Map using the `marker_types` array, each Marker Type is an object with the following options:

| Option          | Values                          | Description                                                                                                                                                                                                                                                                         | Example   |
| --------------- | ------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| `marker_title`  | string                          | What kind of Marker is this? E.g. `Photo`, `Grocery Store`, `Warning!`. Marker Titles should be unique and are used to generate [Type Keys](#type-keys).                                                                                                                            | `Pub`     |
| `marker_shape`  | `marker`, `circle`, `rectangle` | Which shape of Marker to use. Circles and Squares are centered at the specified location, Markers point down to that location.                                                                                                                                                      | `marker`  |
| `marker_size`   | `small`, `medium`, `large`      | Which size of Marker to use.                                                                                                                                                                                                                                                        | `large`   |
| `marker_colour` | CSS Color                       | The Marker background colour, provided as a CSS colour (e.g. `white`, `#ffba00`, `rgb(255, 186, 0)`).                                                                                                                                                                               | `#da3d20` |
| `icon_type`     | `icon`, `text`, `html`, `svg`   | Font Icons are available from Font Awesome and Ionic Icons. Simple Text or Emojis are supported, as well as custom HTML and SVG.                                                                                                                                                    | `icon`    |
| `marker_icon`   | string                          | Enter the `text`/`html`/`svg` ([Emojis](https://emojifinder.com/) and nested HTML supported!) For `icon` enter the [Ionicons](https://ionic.io/ionicons/v2/cheatsheet.html) or [Font Awesome](https://fontawesome.com/v4/cheatsheet/), icon name e.g. `ion-camera`, or `fa-camera`. | `ðŸº`      |
| `icon_colour`   | CSS Color                       | The colour of the icon, provided as a CSS colour (e.g. `white`, `#ffba00`, `rgb(255, 186, 0)`).                                                                                                                                                                                     | `#ffba00` |

The following is an example of a Marker Type configuration:

```javascript
const config = {
  map_options: {
    marker_types: [
      {
        marker_title: "Pub",
        marker_shape: "marker",
        marker_size: "large",
        icon_type: "icon",
        marker_icon: "ion-beer",
        marker_colour: "#fbfbfb",
        icon_colour: "#754423",
      },
    ],
  },
};
```

#### Line Types

Line Types are added to the Map using the `line_types` array, each Line Type is an object with the following options:

| Option         | Values     | Description                                                                                                                                             | Example     |
| -------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `line_title`   | string     | What kind of Line is this? E.g. `Bike Path`, `Walking Only`, `Dark Red`. Line Titles should be unique and are used to generate [Type Keys](#type-keys). | `Bike Path` |
| `line_colour`  | CSS Colour | The colour of the Line, provided as a CSS colour (e.g. `white`, `#ffba00`, `rgb(255, 186, 0)`).                                                         | `#3cbc47`   |
| `line_weight`  | number     | The width of the Line, in pixels.                                                                                                                       | `2`         |
| `line_opacity` | `0`-`1`    | The opacity of the Line, between `0.0` and `1.0`.                                                                                                       | `0.85`      |

The following is an example of a Line Type configuration:

```javascript
const config = {
  map_options: {
    line_types: [
      {
        line_title: "Bike Path",
        line_colour: "#3cbc47",
        line_weight: "2",
        line_opacity: "0.5",
      },
    ],
  },
};
```

#### Shape Types

Shape Types are added to the Map using the `shape_types` array, each Shape Type is an object with the following options:

| Option         | Values     | Description                                                                                                                                       | Example   |
| -------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| `shape_title`  | string     | What kind of Shape is this? E.g. `Park`, `Danger!`, `Light Blue`. Shape Titles should be unique and are used to generate [Type Keys](#type-keys). | `Park`    |
| `shape_colour` | CSS Colour | The colour of the Shape, provided as a CSS colour (e.g. `white`, `#ffba00`, `rgb(255, 186, 0)`).                                                  | `#81d742` |
| `fill_opacity` | number     | The opacity of the inside of the Shape, between `0.0` and `1.0`.                                                                                  | `0.5`     |

The following is an example of a Shape Type configuration:

```javascript
const config = {
  map_options: {
    shape_types: [
      {
        shape_title: "Park",
        shape_colour: "#81d742",
        fill_opacity: "0.5",
      },
    ],
  },
};
```

#### Type Keys

Type Keys are a unique string that identifies a Type. The Type Title is used to create the Type Key, by removing any non-alpha-numeric characters and converting it to lowercase.

> [!TIP]
> The Type Key for "Pub" would be `pub`. The Type Key for "A Much Longer Title" would be `amuchlongertitle`.

When assigning a Type to an Overlay, the `type` feature property must match the Type Key. For example, to assign the "Pub" Type to a Marker:

```json
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "type": "pub",
        "title": "Great place for a pint!"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-2.548828125, 51.46769693762546]
      }
    }
  ]
}
```

Waymark JS adds the Type Key to the Overlay using the `waymark-marker-[type_key]` class. For example, the "Pub" Type would be:

```html
<div class="waymark-marker waymark-marker-pub">
  <div class="waymark-marker-background" style="background:#fbfbfb;"></div>
  <i
    style="color:#754423;"
    class="waymark-marker-icon waymark-icon-icon ion ion-beer"
  ></i>
</div>
```

You can use this class to target specific Types in your CSS, for example:

```css
/* Adjust the "Pub" Marker Text Icon size */
.waymark-marker-pub i {
  font-size: 24px !important;
}
```

> [!TIP]
> Use your browserâ€™s inspector ([Firefox](https://developer.mozilla.org/en-US/docs/Tools/Page_Inspector/How_to/Open_the_Inspector) / [Chrome](https://developer.chrome.com/docs/devtools/open/)) to find Type keys.

### MapLibre Options

These options, provided in the `map_options.maplibre_options` object, are passed directly to [MapLibre GL JS](https://maplibre.org/maplibre-gl-js/docs/API/type-aliases/MapOptions/) when creating the Map. This allows you to customise the Map further, using any of the options available in MapLibre GL JS. Some examples:

| Option        | Values             | Description                                      | Example                             |
| ------------- | ------------------ | ------------------------------------------------ | ----------------------------------- |
| `center`      | array `[lng, lat]` | The initial geographical centerpoint of the Map. | `[-2.548828125, 51.46769693762546]` |
| `zoom`        | number             | The initial zoom level of the Map.               | `12`                                |
| `minZoom`     | number             | The minimum zoom level of the Map.               | `0`                                 |
| `maxZoom`     | number             | The maximum zoom level of the Map.               | `18`                                |
| `interactive` | `true`/`false`     | Whether the Map is interactive.                  | `true`                              |

> [!TIP]
> View the [MapLibre GL JS API](https://maplibre.org/maplibre-gl-js/docs/API/type-aliases/MapOptions/) for the full list of available `maplibre_options`.
